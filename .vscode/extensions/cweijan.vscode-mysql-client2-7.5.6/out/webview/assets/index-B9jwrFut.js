import{d as ye}from"./objectUtil-Z6JRxuBJ.js";import{d as O,c as b,o as N,a as k,S as j,f as F,q as G,V as H,e as ge,n as I,u as a,I as Ne,t as he,X as Ve,ap as Se,r as _e,h as Ie,w as we,C as Ee,aq as Ce,J as B,l as $,b as Q,H as R,ar as Pe}from"./app-FmU7_e9B.js";import{b as re,d as W,a as le,N as f,O as ee,P as J,_ as se,Q as oe,D as Ae,R as Be,C as ue,S as T,T as w,U as _,u as $e,G as De,A as D,H as ke,V as Fe,L as Te,W as Oe,c as te,X as ze,Y as Ue,Z as xe,I as ne}from"./focus-trap-BpsD0gin.js";import{E as Me}from"./index-BVSJCwKb.js";import{v as ae}from"./index-4nHCH4sd.js";const ie=/^(\$|_|vm)/i;function rt(l,v,...r){const n=ye(v);for(const c of Object.keys(l))c.startsWith("$")||c.startsWith("_")||c.match(ie)||(n[c]===void 0&&(n[c]=null),r.includes(c)&&(n[c]=l[c]));l.$patch(n)}function lt(l){return JSON.parse(JSON.stringify(l,(v,r)=>v.match(ie)?null:r))}const Ke=re({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:W([String,Object,Array])},badgeStyle:{type:W([String,Object,Array])},offset:{type:W(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),Le=["textContent"],Re=O({name:"ElBadge"}),We=O({...Re,props:Ke,setup(l,{expose:v}){const r=l,n=le("badge"),c=b(()=>r.isDot?"":f(r.value)&&f(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`),m=b(()=>{var d,o,y,h,V,E;return[{backgroundColor:r.color,marginRight:ee(-((o=(d=r.offset)==null?void 0:d[0])!=null?o:0)),marginTop:ee((h=(y=r.offset)==null?void 0:y[1])!=null?h:0)},(V=r.dotStyle)!=null?V:{},(E=r.badgeStyle)!=null?E:{}]});return J({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},b(()=>!!r.dotStyle)),J({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},b(()=>!!r.dotClass)),v({content:c}),(d,o)=>(N(),k("div",{class:I(a(n).b())},[j(d.$slots,"default"),F(Se,{name:`${a(n).namespace.value}-zoom-in-center`,persisted:""},{default:G(()=>[H(ge("sup",{class:I([a(n).e("content"),a(n).em("content",d.type),a(n).is("fixed",!!d.$slots.default),a(n).is("dot",d.isDot),d.dotClass,d.badgeClass]),style:Ne(a(m)),textContent:he(a(c))},null,14,Le),[[Ve,!d.hidden&&(a(c)||d.isDot)]])]),_:1},8,["name"])],2))}});var je=se(We,[["__file","badge.vue"]]);const st=oe(je),Ge=re({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ae,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:l=>l===null||f(l)||["min","max"].includes(l),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:l=>l>=0&&l===Number.parseInt(`${l}`,10)},validateEvent:{type:Boolean,default:!0},...Be(["ariaLabel"])}),He={[ue]:(l,v)=>v!==l,blur:l=>l instanceof FocusEvent,focus:l=>l instanceof FocusEvent,[T]:l=>f(l)||w(l),[_]:l=>f(l)||w(l)},Je=["aria-label","onKeydown"],Ye=["aria-label","onKeydown"],Ze=O({name:"ElInputNumber"}),qe=O({...Ze,props:Ge,emits:He,setup(l,{expose:v,emit:r}){const n=l,{t:c}=$e(),m=le("input-number"),d=_e(),o=Ie({currentValue:n.modelValue,userInput:null}),{formItem:y}=De(),h=b(()=>f(n.modelValue)&&n.modelValue<=n.min),V=b(()=>f(n.modelValue)&&n.modelValue>=n.max),E=b(()=>{const e=Z(n.step);return D(n.precision)?Math.max(Z(n.modelValue),e):(e>n.precision,n.precision)}),z=b(()=>n.controls&&n.controlsPosition==="right"),Y=ke(),S=Fe(),U=b(()=>{if(o.userInput!==null)return o.userInput;let e=o.currentValue;if(w(e))return"";if(f(e)){if(Number.isNaN(e))return"";D(n.precision)||(e=e.toFixed(n.precision))}return e}),x=(e,t)=>{if(D(t)&&(t=E.value),t===0)return Math.round(e);let s=String(e);const i=s.indexOf(".");if(i===-1||!s.replace(".","").split("")[i+t])return e;const P=s.length;return s.charAt(P-1)==="5"&&(s=`${s.slice(0,Math.max(0,P-1))}6`),Number.parseFloat(Number(s).toFixed(t))},Z=e=>{if(w(e))return 0;const t=e.toString(),s=t.indexOf(".");let i=0;return s!==-1&&(i=t.length-s-1),i},q=(e,t=1)=>f(e)?x(e+n.step*t):o.currentValue,M=()=>{if(n.readonly||S.value||V.value)return;const e=Number(U.value)||0,t=q(e);C(t),r(T,o.currentValue),L()},K=()=>{if(n.readonly||S.value||h.value)return;const e=Number(U.value)||0,t=q(e,-1);C(t),r(T,o.currentValue),L()},X=(e,t)=>{const{max:s,min:i,step:u,precision:g,stepStrictly:P,valueOnClear:A}=n;s<i&&xe("InputNumber","min should not be greater than max.");let p=Number(e);if(w(e)||Number.isNaN(p))return null;if(e===""){if(A===null)return null;p=Pe(A)?{min:i,max:s}[A]:A}return P&&(p=x(Math.round(p/u)*u,g)),D(g)||(p=x(p,g)),(p>s||p<i)&&(p=p>s?s:i,t&&r(_,p)),p},C=(e,t=!0)=>{var s;const i=o.currentValue,u=X(e);if(!t){r(_,u);return}i===u&&e||(o.userInput=null,r(_,u),i!==u&&r(ue,u,i),n.validateEvent&&((s=y==null?void 0:y.validate)==null||s.call(y,"change").catch(g=>ne())),o.currentValue=u)},de=e=>{o.userInput=e;const t=e===""?null:Number(e);r(T,t),C(t,!1)},ce=e=>{const t=e!==""?Number(e):"";(f(t)&&!Number.isNaN(t)||e==="")&&C(t),L(),o.userInput=null},pe=()=>{var e,t;(t=(e=d.value)==null?void 0:e.focus)==null||t.call(e)},me=()=>{var e,t;(t=(e=d.value)==null?void 0:e.blur)==null||t.call(e)},fe=e=>{r("focus",e)},be=e=>{var t;o.userInput=null,r("blur",e),n.validateEvent&&((t=y==null?void 0:y.validate)==null||t.call(y,"blur").catch(s=>ne()))},L=()=>{o.currentValue!==n.modelValue&&(o.currentValue=n.modelValue)},ve=e=>{document.activeElement===e.target&&e.preventDefault()};return we(()=>n.modelValue,(e,t)=>{const s=X(e,!0);o.userInput===null&&s!==t&&(o.currentValue=s)},{immediate:!0}),Ee(()=>{var e;const{min:t,max:s,modelValue:i}=n,u=(e=d.value)==null?void 0:e.input;if(u.setAttribute("role","spinbutton"),Number.isFinite(s)?u.setAttribute("aria-valuemax",String(s)):u.removeAttribute("aria-valuemax"),Number.isFinite(t)?u.setAttribute("aria-valuemin",String(t)):u.removeAttribute("aria-valuemin"),u.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),u.setAttribute("aria-disabled",String(S.value)),!f(i)&&i!=null){let g=Number(i);Number.isNaN(g)&&(g=null),r(_,g)}u.addEventListener("wheel",ve,{passive:!1})}),Ce(()=>{var e,t;const s=(e=d.value)==null?void 0:e.input;s==null||s.setAttribute("aria-valuenow",`${(t=o.currentValue)!=null?t:""}`)}),J({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},b(()=>!!n.label)),v({focus:pe,blur:me}),(e,t)=>(N(),k("div",{class:I([a(m).b(),a(m).m(a(Y)),a(m).is("disabled",a(S)),a(m).is("without-controls",!e.controls),a(m).is("controls-right",a(z))]),onDragstart:t[0]||(t[0]=R(()=>{},["prevent"]))},[e.controls?H((N(),k("span",{key:0,role:"button","aria-label":a(c)("el.inputNumber.decrease"),class:I([a(m).e("decrease"),a(m).is("disabled",a(h))]),onKeydown:B(K,["enter"])},[j(e.$slots,"decrease-icon",{},()=>[F(a(te),null,{default:G(()=>[a(z)?(N(),$(a(Te),{key:0})):(N(),$(a(Oe),{key:1}))]),_:1})])],42,Je)),[[a(ae),K]]):Q("v-if",!0),e.controls?H((N(),k("span",{key:1,role:"button","aria-label":a(c)("el.inputNumber.increase"),class:I([a(m).e("increase"),a(m).is("disabled",a(V))]),onKeydown:B(M,["enter"])},[j(e.$slots,"increase-icon",{},()=>[F(a(te),null,{default:G(()=>[a(z)?(N(),$(a(ze),{key:0})):(N(),$(a(Ue),{key:1}))]),_:1})])],42,Ye)),[[a(ae),M]]):Q("v-if",!0),F(a(Me),{id:e.id,ref_key:"input",ref:d,type:"number",step:e.step,"model-value":a(U),placeholder:e.placeholder,readonly:e.readonly,disabled:a(S),size:a(Y),max:e.max,min:e.min,name:e.name,"aria-label":e.label||e.ariaLabel,"validate-event":!1,onKeydown:[B(R(M,["prevent"]),["up"]),B(R(K,["prevent"]),["down"])],onBlur:be,onFocus:fe,onInput:de,onChange:ce},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Xe=se(qe,[["__file","input-number.vue"]]);const ot=oe(Xe);export{st as E,ot as a,lt as c,rt as r};
