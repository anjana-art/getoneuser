import{n as k,s as te,e as W}from"./notify-B6nz1WA5.js";import{d as F,o as p,a as $,e as a,S as ne,n as le,_ as Q,z as se,r as f,C as M,j as u,k as H,f as n,q as t,t as l,s as i,l as B,b as G,c as ae,F as I,v as P,u as j,$ as z}from"./app-FmU7_e9B.js";import{E as ie}from"./index-4dDqU7pE.js";import{E as re}from"./index-Cr12f1ZU.js";import{E as T}from"./index-BVSJCwKb.js";import{E as ce,a as de}from"./index-ZkvlXBU0.js";import{E as ue}from"./index-D0Za3L6V.js";import"./focus-trap-BpsD0gin.js";import"./validator-IqtOGJg6.js";import"./index-DnsqOKfX.js";import"./isUndefined-DCTLXrZ8.js";import"./index-CGvgoY8n.js";import"./index-VUXoUYxw.js";import"./isEqual-BzW8q1RT.js";import"./index-B-IAPgrp.js";import"./_baseFindIndex-D7XfJLKM.js";import"./_baseIteratee-DKJhV95b.js";import"./castArray-DZ-7eylf.js";const me={class:"card"},pe=F({__name:"Card",props:{full:Boolean},setup(S){return(m,g)=>(p(),$("div",{class:le(["card-container",{"card-container-full":S.full}])},[a("div",me,[ne(m.$slots,"default",{},void 0,!0)])],2))}}),N=Q(pe,[["__scopeId","data-v-766331bf"]]),ve={style:{"min-width":"300px"}},fe={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},ge={style:{margin:"20px 0"}},ye={class:"text-right mt-2"},_e={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},Ce={class:"my-2"},$e={class:"mr-2"},he={style:{"margin-top":"5px","margin-bottom":"10px"}},we={style:{"text-align":"right",margin:"0"}},be={style:{"margin-top":"5px","margin-bottom":"10px"}},ke={style:{"text-align":"right",margin:"0"}},Se={style:{"margin-top":"5px","margin-bottom":"10px"}},Ve={style:{"text-align":"right",margin:"0"}},xe={style:{"margin-top":"20px"}},Ee={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},Oe={style:{margin:"20px 0"}},ze=F({__name:"CloudConfig",setup(S){const m=se(),g=f(!1),y=f(!1),_=f(!1),r=f(!1),C=f(!1),h=f(null),V=f(!1),x=f(!1),b=f(!1),E=f(!1),O=f(!1);M(()=>{g.value=m.config.autoSync,u.on("importConfirm",()=>{C.value=!0}).on("importResult",({success:e,message:o,cancel:s})=>{if(C.value=!1,s)return;k({duration:e?1e3:2e3,message:o,type:e?"success":"error"})}).on("downloadConfirm",()=>{b.value=!1,r.value=!0}).on("downloadResult",({success:e,message:o})=>{b.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("uploadRes",({success:e,message:o})=>{V.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("removeRes",({success:e,message:o})=>{x.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("syncKey",e=>{(!h.value||E.value)&&(h.value=e,E.value=!1)})});const A=()=>{u.emit("updateOption",{name:"autoSync",value:g.value})},c=()=>{te(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},K=()=>{u.emit("clearCache")},v=()=>{u.emit("open","https://github.com/cweijan/vscode-database-client/issues")},J=()=>{u.emit("editConfig")},X=()=>{E.value=!0,u.emit("chooseSyncKey")},Y=()=>{u.emit("exportConfig")},U=e=>{u.emit("importConfig",e)},Z=()=>{if(!m.isPay){W("Free account not support upload configuration!");return}y.value=!1,V.value=!0,u.emit("uploadConfig",h.value)},ee=()=>{_.value=!1,x.value=!0,u.emit("removeConfig")},q=e=>{if(!m.isPay){W("Free account not support sync data!");return}r.value=!1,b.value=!0,u.emit("downloadConfig",{keyPath:h.value,type:e})};return(e,o)=>{const s=H("vsc-button"),w=ie,R=re,oe=T;return p(),$("div",null,[n(N,{class:"!mb-3"},{default:t(()=>[a("div",ve,[a("div",fe,l(e.$t("console.configuration")),1),a("div",ge,[n(s,{type:"secondary",icon:"codicon-edit",onClick:J},{default:t(()=>[i(l(e.$t("console.edit")),1)]),_:1}),n(s,{icon:"codicon-arrow-up",onClick:Y},{default:t(()=>[i(l(e.$t("console.export")),1)]),_:1}),n(w,{placement:"top",visible:C.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-arrow-down",onClick:o[3]||(o[3]=d=>U())},{default:t(()=>[i(l(e.$t("console.import")),1)]),_:1})]),default:t(()=>[a("p",null,l(e.$t("console.mergeConfirm")),1),a("div",ye,[n(s,{type:"secondary",onClick:o[0]||(o[0]=d=>C.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:o[1]||(o[1]=d=>U("merge"))},{default:t(()=>[i(l(e.$t("console.merge")),1)]),_:1}),n(s,{onClick:o[2]||(o[2]=d=>U("overwrite"))},{default:t(()=>[i(l(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"])])])]),_:1}),n(N,{class:"!mb-3"},{default:t(()=>[a("div",null,[a("div",_e,l(e.$t("console.sync")),1),a("div",Ce,[a("label",$e,l(e.$t("console.autoSync")),1),n(R,{modelValue:g.value,"onUpdate:modelValue":o[4]||(o[4]=d=>g.value=d),onChange:A},null,8,["modelValue"])]),a("div",null,[n(w,{placement:"top",visible:_.value,trigger:"manual"},{reference:t(()=>[n(s,{type:"secondary",icon:"el-icon-delete",loading:x.value,onClick:o[6]||(o[6]=d=>_.value=!0)},{default:t(()=>[i(l(e.$t("console.remove")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",he,l(e.$t("console.removeConfirm")),1),a("div",we,[n(s,{type:"secondary",onClick:o[5]||(o[5]=d=>_.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:ee},{default:t(()=>[i(l(e.$t("result.confirm")),1)]),_:1})])]),_:1},8,["visible"]),n(w,{placement:"top",visible:y.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-cloud-upload",loading:V.value,onClick:o[8]||(o[8]=d=>y.value=!0)},{default:t(()=>[i(l(e.$t("console.upload")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",be,l(e.$t("console.uploadConfirm")),1),a("div",ke,[n(s,{type:"secondary",onClick:o[7]||(o[7]=d=>y.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:Z},{default:t(()=>[i(l(e.$t("result.confirm")),1)]),_:1})])]),_:1},8,["visible"]),n(w,{placement:"top",visible:r.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-cloud-download",loading:b.value,onClick:o[12]||(o[12]=d=>q())},{default:t(()=>[i(l(e.$t("console.download")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",Se,l(e.$t("console.mergeConfirm")),1),a("div",Ve,[n(s,{type:"secondary",onClick:o[9]||(o[9]=d=>r.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:o[10]||(o[10]=d=>q("merge"))},{default:t(()=>[i(l(e.$t("console.merge")),1)]),_:1}),n(s,{onClick:o[11]||(o[11]=d=>q("overwrite"))},{default:t(()=>[i(l(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"]),a("div",xe,[n(oe,{modelValue:h.value,"onUpdate:modelValue":o[13]||(o[13]=d=>h.value=d),size:"small",class:"!w-52",placeholder:"Aes encryption Key"},null,8,["modelValue"]),n(s,{icon:"codicon-file",class:"!ml-1 relative",style:{top:"3px"},onClick:X})])])])]),_:1}),n(N,null,{default:t(()=>[a("div",null,[a("div",Ee,l(e.$t("console.other")),1),a("div",Oe,[n(s,{icon:"codicon-github-inverted",size:"small",onClick:v},{default:t(()=>[i(l(e.$t("toolbar.reportIssue")),1)]),_:1}),n(s,{icon:"codicon-clear-all",size:"small",onClick:K},{default:t(()=>[i(l(e.$t("toolbar.clearCache")),1)]),_:1})]),a("div",null,[O.value?(p(),B(s,{key:0,icon:"codicon-gear",size:"small",onClick:c},{default:t(()=>[i(" 获取页面宽高 ")]),_:1})):G("",!0)])])]),_:1})])}}}),Le=Q(ze,[["__scopeId","data-v-d9f9f85b"]]),Be={editor:["disableSqlCodeLenNew","splitSQLByNewLine","highlightSQLBlock","bindConnectionByActiveMark","executeCursorSQLByShortcut"],result:["openResultsAsVertically","splitEditorWhenQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","saveConnectionExpandedState"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL","queryWithSchema"]};function L(S,m){const g=Be[S];return m.filter(y=>g.includes(y.name)).sort((y,_)=>g.indexOf(y.name)-g.indexOf(_.name))}const D={},Ne={class:"flex flex-wrap justify-center console-container"},Ae={class:"option-container"},Ke={class:"option-title"},Ue={class:"option-list"},qe={key:0},Ie={key:2},Pe=F({__name:"console",setup(S){const m=f([]),g=ae(()=>[{title:z("console.editorOptions"),options:L("editor",m.value)},{title:z("console.sqlOptions"),options:L("sql",m.value)},{title:z("console.treeOptions"),options:L("treeView",m.value)},{title:z("console.resultOptions"),options:L("result",m.value)}]);M(async()=>{u.emit("options").on("options",({options:r})=>{m.value=r}).on("configSuccess",r=>{k({message:r,type:"success"})}).on("resetSuccess",r=>{k({message:r,type:"success"}),u.emit("options")}).init()});const y=r=>{u.emit("resetOption",r)},_=r=>{let C=r.value;r.type=="boolean"&&(C=!r.value,r.value=C),u.emit("updateOption",{...r,value:C})};return(r,C)=>{const h=H("vsc-button"),V=ce,x=de,b=ue,E=T;return p(),$("div",Ne,[n(Le),a("div",Ae,[(p(!0),$(I,null,P(g.value,(O,A)=>(p(),B(N,{key:A,style:{"max-width":"350px","min-width":"300px"}},{default:t(()=>[a("div",Ke,l(O.title),1),n(h,{icon:"codicon-wand",size:"small",title:j(z)("console.resetConfig"),onClick:c=>y(O.options)},null,8,["title","onClick"]),a("div",Ue,[(p(!0),$(I,null,P(O.options,(c,K)=>(p(),$("div",{key:K,class:"option-item"},[j(D)[c.name]?(p(),$("div",qe,[i(l(c.description)+" ",1),n(x,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,class:"w-28",size:"small",onChange:v=>_(c)},{default:t(()=>[(p(!0),$(I,null,P(j(D)[c.name],v=>(p(),B(V,{key:v,value:v},{default:t(()=>[i(l(v),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):c.type=="boolean"||c.name=="escapedAllObjectName"?(p(),B(b,{key:1,"model-value":c.value,onChange:v=>_(c)},{default:t(()=>[i(l(c.description),1)]),_:2},1032,["model-value","onChange"])):["string","number"].includes(c.type)?(p(),$("div",Ie,[i(l(c.description)+" ",1),n(E,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,size:"small",class:"!w-20 ml-1",onChange:v=>_(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])])):G("",!0)]))),128))])]),_:2},1024))),128))])])}}}),lo=Q(Pe,[["__scopeId","data-v-dbd31992"]]);export{lo as default};
