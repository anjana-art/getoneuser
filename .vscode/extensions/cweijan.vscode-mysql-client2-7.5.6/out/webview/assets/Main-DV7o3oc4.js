import{d as y,r as n,c as g,C,j as D,a as l,V as w,X as T,u as k,e as N,F as S,v as x,f as B,q as L,as as V,k as I,o as a,n as d,b as P,s as R,t as U,l as v,W as A,at as E,_ as M}from"./app-FmU7_e9B.js";import{u as Q}from"./resultUIStore-DA-MoGPP.js";import{i as F,D as m}from"./constants-DOH9Mr1f.js";import"./wrapper-DzkwKkkl.js";const K={id:"tableTab",class:"tab"},$=["onClick"],j=y({__name:"Main",setup(q){const u=V(),_=Q(),r=n(null),i=n(!1),s=n("result"),b=n([{id:"design",i18n:"table.design",icon:"codicon-edit",hidden:()=>!i.value},{id:"result",i18n:"table.data",icon:"codicon-database blue"},{id:"erDiagram",i18n:"table.erDiagram",icon:"codicon-symbol-class yellow",hidden:()=>!i.value||F(r.value)},{id:"status",i18n:"table.monitor",icon:"codicon-graph-line",hidden:()=>[m.SQLITE,m.DUCK_DB].includes(r.value)}]),f=g(()=>b.value.filter(e=>{var o;return((o=e==null?void 0:e.hidden)==null?void 0:o.call(e))!=!0})),c=e=>{s.value!==e&&(s.value=e,u.push(e))};return C(()=>{s.value=u.currentRoute.value.name,window.addEventListener("message",({data:e})=>{["RUN","DATA"].includes(e.type)&&s.value==="status"&&c("result")}),D.on("table_info",({singleTable:e,dbType:o})=>{r.value=o,i.value=e,i.value||c("result")})}),(e,o)=>{const p=I("router-view");return a(),l("div",null,[w(N("ul",K,[(a(!0),l(S,null,x(f.value,(t,h)=>(a(),l("li",{key:h,class:d(["tab__item",{"tab__item--active":s.value==t.id}]),onClick:z=>c(t.id)},[t.icon?(a(),l("i",{key:0,type:"icon",class:d(t.icon),style:{position:"relative",top:"3px"}},null,2)):P("",!0),R(" "+U(e.$t(t.i18n)),1)],10,$))),128))],512),[[T,k(_).showSQLPanel]]),B(p,null,{default:L(({Component:t})=>[(a(),v(E,null,[(a(),v(A(t)))],1024))]),_:1})])}}}),J=M(j,[["__scopeId","data-v-4c234029"]]);export{J as default};
